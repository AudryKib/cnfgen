<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title></title>
<!-- 2017-02-02 Gio 16:41 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Massimo Lauria" />
<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
<style type="text/css"> .title  { height: 0; margin: 0;} </style>
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="description" content="CNFgen: Combinatorial benchmarks for SAT solvers">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title"></h1>
<!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/MassimoLauria/cnfgen">View on GitHub</a>

          <h1 id="project_title"><a id="project_title" href="https://massimolauria.github.io/cnfgen">CNFgen</a></h1>
          <h2 id="project_tagline">Combinatorial benchmarks for SAT solvers</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/MassimoLauria/cnfgen/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/MassimoLauria/cnfgen/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>
<div id="main_content_wrap" class="outer">
  <section id="main_content" class="inner">


<p>
The  structure of  some  formula  recipes in  <code>cnfgen</code>  is based  on
graphs, which  can be either <b>simple</b>  undirected graphs, <b>biparite</b>
graphs, <b>directed</b> graphs or <b>dag</b>  (directed acyclic graphs). It is
possible  either to  read  graphs  from files  or  to generate  them
internally.  The  <code>cnfgen</code> tool  accepts  and  saves graphs  in  the
following file formats.
</p>

<ul class="org-ul">
<li>GML format (<a href="http://www.infosun.fim.uni-passau.de/Graphlet/GML/gml-tr.html">specification</a>)
</li>
<li>DOT format if <code>NetworkX</code> library supports it (<a href="http://www.graphviz.org/content/dot-language">specification</a>)
</li>
<li>DIMACS edge format (<a href="http://prolland.free.fr/works/research/dsat/dimacs.html">specification</a>)
</li>
<li>KTH adjacency list format (<a href="#kthformat">specification</a>)
</li>
<li>Matrix format (<a href="#matrix">specification</a>)
</li>
</ul>

<p>
Different file  formats are  suitable for  specific graph  types, as
shown in this table.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Graph type</th>
<th scope="col" class="left">Description</th>
<th scope="col" class="left">GML</th>
<th scope="col" class="left">DOT</th>
<th scope="col" class="left">KTH lists</th>
<th scope="col" class="left">DIMACS</th>
<th scope="col" class="left">Matrix</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>simple</code></td>
<td class="left">simple undirected graph</td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>No</b></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>digraph</code></td>
<td class="left">directed graph</td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>No</b></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>dag</code></td>
<td class="left">directed acyclic graph</td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>No</b></td>
<td class="left"><b>No</b></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>bipartite</code></td>
<td class="left">bipartite graphs</td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>Yes</b></td>
<td class="left"><b>No</b></td>
<td class="left"><b>Yes</b></td>
</tr>
</tbody>
</table>

<p>
If  the file  ends with  one of  the extensions  <code>.kthlist</code>, <code>.gml</code>,
<code>.dot</code>, <code>.matrix</code>, <code>.dimacs</code> then the  program assumes that the file
is the  corresponding format. It  is possible to specify  the format
using the  <code>-gf</code> option in  the command line, which  is particularly
useful when the graph is read  from standard input or written on the
standard  output, or  when the  file  extension does  not match  its
file format.
</p>


<div id="outline-container-sec-0-1" class="outline-4">
<h4 id="sec-0-1">GML and DOT format — bipartite graphs representation</h4>
<div class="outline-text-4" id="text-0-1">
<p>
The convention adopted  to specify bipartite graphs in  <a href="http://www.graphviz.org/content/dot-language">DOT</a> and <a href="http://www.infosun.fim.uni-passau.de/Graphlet/GML/gml-tr.html">GML</a>
formats is that to use a simple graph, where each vertex has either
the  attribute <code>bipartite=0</code>  or the  attribute <code>bipartite=1</code>  set.
This is the same convention used by graph library <a href="https://networkx.github.io/">NetworkX</a>.
</p>
</div>
</div>


<div id="outline-container-sec-1" class="outline-3">
<h3 id="sec-1">KTH adjacency list format<a id="kthformat" name="kthformat"></a></h3>
<div class="outline-text-3" id="text-1">
<p>
[<a href="KTHlistFormat.txt">Full specification</a> by <a href="http://www.csc.kth.se/~jakobn/">Jakob Nordström</a>]
</p>


<p>
The <code>kthlist</code>  adjacency list  graph format  has been  introduced by
<a href="http://www.csc.kth.se/~jakobn/">Jakob Nordström</a> of the Proof  Complexity <a href="http://www.csc.kth.se/~jakobn/project-proofcplx/">research group</a> at KTH Royal
Institute  of  Technologyas  as  an  efficient  and  simple  way  to
represent  sparse  graphs  for   applications  in  SAT  solving  and
proof complexity.
</p>


<p>
The  format can  specify  all four  types of  graph,  but the  exact
interpretation  of   the  file  depends   a  bit  on   the  context.
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-4">
<h4 id="sec-1-1">KTH predecessors list format — <code>digraph</code></h4>
<div class="outline-text-4" id="text-1-1">
<p>
The <code>kthlist</code>  format  as   a  straightforward  interpretation  as
a directed graph, as described in the format specification.
</p>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-4">
<h4 id="sec-1-2">KTH adjacency list format — <code>dag</code></h4>
<div class="outline-text-4" id="text-1-2">
<p>
When CNFgen expects  a directed acyclic graph, it  expects the file
in  <code>kthlist</code> format  to  express very  explicitly the  topological
order  of the  vertices. Namely  the  sequence of  \(1\),&#x2026; ,\(n\)  is
expected to  be a topological  order from  sources to sinks  of the
vertices,  and   formula  constructions  in  CNFgen   will  respect
this order.
</p>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-4">
<h4 id="sec-1-3">KTH predecessors list format — <code>simple</code></h4>
<div class="outline-text-4" id="text-1-3">
<p>
If a vertex \(v\) has \(u\) in  its adjacency list then the \(v\) must be
explicitly listed in the adjacency  list of \(u\), otherwise the file
is considered not well defined.  Nevertheless CNFgen is liberal and
does not expect that. For CNFgen an edge \(\{u,v\}\) considered to be
in graph when either  \(u\) is in the list of \(v\), or  when \(v\) is in
the list of  \(u\), or both. Naturally all  <code>simple</code> graphs generated
by CNFgen  are correct <code>kthlist</code>  files according to  the strictest
interpretation of the format.
</p>

<p>
Here’s an  example of how  a graph  with missing inverted  edges is
interpreted as an undirected graph. The file
</p>

<pre class="example">
c
c This is a DAG of 5 vertices
c
5
1  : 0
2  : 0
3  : 1  0 
4  : 2  3  0  
5  : 2  4  0
</pre>

<p>
represents the directed acyclic graph
</p>


<div class="figure">
<p><img src="images/adjformatDAG.png" alt="adjformatDAG.png" />
</p>
</div>

<p>
and the simple undirected graph 
</p>


<div class="figure">
<p><img src="images/adjformatS.png" alt="adjformatS.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-4">
<h4 id="sec-1-4">KTH predecessors list format — <code>bipartite</code></h4>
<div class="outline-text-4" id="text-1-4">
<p>
The interpretation  of a file  as a bipartite graph  is essentially
the same as  it is for undirected graphs, with  the difference that
the  bipartition is  made explicit  by listing  just the  adjacency
lists of the vertices on the left side.
</p>

<pre class="example">
c listing only left side vertices (bipartite graph)
11
1 : 7  8  9 0
2 : 6  7  9 0
3 : 8  9 11 0
4 : 8 10 11 0
5 : 6 10 11 0
</pre>

<p>
The  difference  with  the  undirected graph  is  specification  is
important. Notice  that according to  the format spec  the previous
example is  not a  correct <code>kthlist</code> file  for an  undirected graph
because it  lacks the  adjacency lists of  the right  side vertices
too.  The  following   is  the  same  graph,  but   encoded  as  an
undirected graph.
</p>

<pre class="example">
c listing left and right side vertices (undirected graph)
11
1 : 7  8  9 0
2 : 6  7  9 0
3 : 8  9 11 0
4 : 8 10 11 0
5 : 6 10 11 0
6 : 2  5  0
7 : 1  2  0
8 : 1  3  4 0
9 : 1  2  3 0
10 : 4 5 0
11 : 3 4 5 0
</pre>



<div class="figure">
<p><img src="images/kthformatBI.png" alt="kthformatBI.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-4">
<h4 id="sec-1-5">Using <code>simple</code> files where <code>bipartite</code> files are expected (deprecated)</h4>
<div class="outline-text-4" id="text-1-5">
<p>
CNFgen parser  is forgiving in  the sense that  when an edge  in an
undirected  graph is  specified only  in one  of the  two adjacency
lists, CNFgen still accept the input (which formally is not a legal
<code>kthlist</code> files). This means that  any <code>kthlist</code> file for bipartite
graphs could be interpreted as a file for undirected graphs as well.
</p>

<p>
It makes sense  to allow the same in the  opposite direction, then.
Unfortunately this requires  to fix some ambiguity.  We stress that
using  <code>kthfile</code>  undirected graphs  when  a  <code>bipartite</code> graph  is
expected could lead to some surprises and therefore it is deprecated.
</p>

<p>
The precise  rule of  how a  <code>simple</code> graph  can be  interpreted as
a <code>bipartite</code> graph is as follows. Vertices are colored with either
left (<code>L</code>)  or right (<code>R</code>) colors  during the parsing of  the file.
At the beginning the coloring is completely unspecified, and colors
are assigned  to some  vertices every time  the parser  process the
adjacency list of a vertex. When the parser finds an adjacency list
</p>

<pre class="example">
i : &lt;j1&gt; &lt;j2&gt; &lt;j3&gt; ... &lt;jk&gt; 0
</pre>

<p>
it attempts  to color as  <code>L : R  R R ...  R</code>. If this is
compatible with the coloring computed so  far, it moves to the next
list.  Otherwise it  attempts  the coloring  <code>R  : L  L  L ...  L</code>.
If neither of this attempts work, then the parser emits an error. 
</p>

<p>
Essentially  an error  occurs when  a vertex  \(v\) has  been already
assigned by to one color because  of previous lines, and a new line
forces \(v\) to the other color.
</p>

<p>
If a vertex has no color by the end of the parsing (i.e. the vertex
did not occur  in any adjacency list and its  own adjacency list is
not specified) then it is assigned the color <code>R</code>.
</p>

<p>
<b>Remarks</b> this  bi-coloring process is arbitrary  and greedy, hence
it  is possible  that  the  parsing fails  even  if  the graph  was
actually  bipartite   but  the  bipartition  was   not  discovered.
Furthermore the same graph  may get different bipartition depending
on how it is represented as a <code>kthlist</code> file. Notice that:
</p>

<ul class="org-ul">
<li>isolated vertices may be colored  either <code>L</code> or <code>R</code>, depending on
whether    the   file    specifies   it    adjacency   list    or
not, respectively.
</li>
<li>the order  of the vertices is important. The  first time a vertex
occur the parser attempts first to color it <code>L</code> and then <code>R</code>.
</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-sec-2" class="outline-3">
<h3 id="sec-2">Matrix format<a id="matrix" name="matrix"></a></h3>
<div class="outline-text-3" id="text-2">
<p>
The matrix format  is suitable to represent the  adjacency matrix of
a bipartite  graph, where  rows correspond to  vertices on  the left
side and columns to vertices on the right side.
</p>

<p>
The  file  consists  on  two   numbers  <code>r</code>  and  <code>c</code>  separated  by
whitespace, followed by a whitespace separated sequence of zeros and
ones of length \(r\times c\). Here's a well formatted example.
</p>

<pre class="example">
5 6
0 1 1 1 0 0
1 1 0 1 0 0
0 0 1 1 0 1
0 0 1 0 1 1
1 0 0 0 1 1
</pre>

<p>
which represents the bipartite graph
</p>


<div class="figure">
<p><img src="images/matrixformatEG.png" alt="matrixformatEG.png" />
</p>
</div>


</section></div>
<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
  <footer class="inner">
    <p class="copyright">CNFgen maintained by <a href="https://github.com/MassimoLauria">MassimoLauria</a></p>
    <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
  </footer>
</div>
</div>
</div>
</div>
</body>
</html>
