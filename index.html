<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title></title>
<!-- 2016-04-28 Gio 19:23 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Massimo Lauria" />
<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
<style type="text/css"> .title  { height: 0; margin: 0;} </style>
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="description" content="CNFgen : Cool benchmarks for your SAT solver!">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title"></h1>
<!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/MassimoLauria/cnfgen">View on GitHub</a>

          <h1 id="project_title"><a id="project_title" href="https://massimolauria.github.io/cnfgen">CNFgen</a></h1>
          <h2 id="project_tagline">Cool benchmarks for your SAT solver!</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/MassimoLauria/cnfgen/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/MassimoLauria/cnfgen/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>
<div id="main_content_wrap" class="outer">
  <section id="main_content" class="inner">

<p>
CNFgen is produces combinatorial benchmarks in DIMACS format, ready to
be fed to  SAT solvers. These benchmarks come mostly  from research in
Proof  Complexity  (e.g.  pigeonhole  principle,  ordering  principle,
k-clique, …).  Many of these formulas  encode structured combinatorial
problems well known to be challenging for certain SAT solvers.
</p>

<div id="outline-container-sec-1" class="outline-3">
<h3 id="sec-1">Features</h3>
<div class="outline-text-3" id="text-1">
<ul class="org-ul">
<li><code>cnfgen</code> generator for <a href="background.html">CNF formula</a> benchmarks,
</li>
<li>the <code>cnfformula</code>  library (<a href="http://cnfgen.readthedocs.io/en/latest/">read  the docs</a>)  for more  flexible CNF
generation and manipulation,
</li>
<li>behind-the-scene integration with many SAT solvers,
</li>
<li>output in DIMACS and LaTeX formats,
</li>
<li>formula <a href="transformation.html">post-processing</a>.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2" class="outline-3">
<h3 id="sec-2">Installation</h3>
<div class="outline-text-3" id="text-2">
<p>
You can install CNFgen from  <a href="http://pypi.python.org">Python Package Index</a>, together with all
its dependencies, typing either
</p>

<pre class="example">
easy_install [--user] cnfgen
</pre>

<p>
or
</p>

<pre class="example">
pip install  [--user] cnfgen
</pre>

<p>
Otherwise it  is possible to install from source using
</p>

<pre class="example">
python setup.py install [--user]
</pre>

<p>
The <code>--user</code> option  allows to install the package in  the user home
directory. If you  do that please check that the  location where the
command   line   utilities   are   installed   is   in   your   PATH
environment variable.
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-3">
<h3 id="sec-3">Usage</h3>
<div class="outline-text-3" id="text-3">
<p>
Run <code>cnfgen -h</code> to get information on how to invoke <code>cnfgen</code>. To get
more information  on how to  generate some specific type  of formula
run <code>cnfgen &lt;formula_type&gt; -h</code>. See  <a href="#commandline">below</a> for a gentler explanation
of  to  how  invoke  <code>cnfgen</code>.   A  quick  guide  for  each  formula
family follows.
</p>

<ul class="org-ul">
<li><a href="#php">Pigeonhole principle</a>
</li>
<li><a href="#gphp">Graph pigeonhole principle</a>
</li>
<li><a href="#tseitin">Tseitin formulas</a> 
</li>
<li><a href="#op">Ordering principle</a>
</li>
<li><a href="#gop">Graph ordering principle</a>
</li>
<li><a href="#matching">Matching principle</a>
</li>
<li><a href="#gmatching">Graph matching principle</a>
</li>
<li><a href="#count">Counting principle</a> 
</li>
<li><a href="#peb">Pebbling formula</a>
</li>
<li><a href="#stone">Stones formula</a>
</li>
<li><a href="#giso">Graph isomorphism formula</a>
</li>
<li><a href="#gauto">Graph automorphism formula</a>
</li>
<li><a href="#ram">Ramsey number formula</a>
</li>
<li><a href="#ramlb">Ramsey counterexample</a> 
</li>
<li><a href="#kclique">K-clique formula</a>
</li>
<li><a href="#kcolor">K-coloring formula</a>
</li>
<li><a href="#randkcnf">Random k-CNF</a>
</li>
<li><a href="#and">Single conjunction</a>
</li>
<li><a href="#or">Single disjunction</a>
</li>
</ul>
</div>

<div id="outline-container-sec-3-0-1" class="outline-5">
<h5 id="sec-3-0-1">Pigeonhole principle<a id="php" name="php"></a></h5>
<div class="outline-text-5" id="text-3-0-1">
<p>
Pigeonhole principle from \(m\) pigeons to \(n\) holes,
</p>

<pre class="example">
cnfgen php &lt;m&gt; &lt;n&gt;
</pre>

<p>
You can  add functional  and onto clauses  using the  command line
options.
</p>

<pre class="example">
cnfgen php [--functional] [--onto] &lt;m&gt; &lt;n&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-2" class="outline-5">
<h5 id="sec-3-0-2">Graph pigeonhole Principle<a id="gphp" name="gphp"></a></h5>
<div class="outline-text-5" id="text-3-0-2">
<p>
The variant  of pigeonhole principle over  bipartite graphs, given
in input or generated from the command line.
</p>

<pre class="example">
cnfgen gphp -i &lt;bipartite_graph&gt;
</pre>

<pre class="example">
cnfgen gphp --bregular &lt;P&gt; &lt;H&gt; &lt;d&gt;
</pre>

<p>
The latter  command produces  a pigeonhole  formula over  a random
bipartite graph with \(P\) pigeons, \(H\) holes, and degree \(d\) on the
left  side. The  graph  is  regular on  the  right  side as  well,
therefore \(H\) must divide \(P\cdot d\).
</p>
</div>
</div>

<div id="outline-container-sec-3-0-3" class="outline-5">
<h5 id="sec-3-0-3">Tseitin  formulas<a id="tseitin" name="tseitin"></a></h5>
<div class="outline-text-5" id="text-3-0-3">
<p>
The  Tseitin formula  on  a graph  <code>&lt;G&gt;</code> (given  in  input) has  the
command line
</p>

<pre class="example">
cnfgen tseitin –charge &lt;type&gt; -i &lt;G&gt;
</pre>

<p>
The initial  charge of vertices is  either <code>first</code>  (only the
first  vertex is  labeled 1) or  one  of <code>random</code>,  <code>randomodd</code>,
<code>randomeven</code>.
</p>

<p>
For example this produces a <code>tseitin</code> formula over a 10 by 10 grid
graph, with random labeling of the vertices.
</p>

<pre class="example">
cnfgen tseitin --charge random --grid 10 10
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-4" class="outline-5">
<h5 id="sec-3-0-4">Ordering principle<a id="op" name="op"></a></h5>
<div class="outline-text-5" id="text-3-0-4">
<p>
The ordering principle over N elements is generated by
</p>

<pre class="example">
cnfgen op &lt;N&gt;
</pre>

<p>
It is possible to consider total orders with 
</p>

<pre class="example">
cnfgen -t op &lt;N&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-5" class="outline-5">
<h5 id="sec-3-0-5">Graph ordering principle<a id="gop" name="gop"></a></h5>
<div class="outline-text-5" id="text-3-0-5">
<p>
The graph ordering principle over an input graph <code>&lt;G&gt;</code> is produced by
</p>

<pre class="example">
cnfgen gop -i &lt;G&gt;
</pre>

<p>
The  vanilla ordering  principle equivalent  to the  graph ordering
principle if  the underlying graph is  the complete one, as  in the
example
</p>

<pre class="example">
cnfgen gop --complete 30
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-6" class="outline-5">
<h5 id="sec-3-0-6">Matching principle<a id="matching" name="matching"></a></h5>
<div class="outline-text-5" id="text-3-0-6">
<p>
The formula claims that <code>&lt;N&gt;</code> elements can be matched in pairs.
</p>

<pre class="example">
cnfgen matching &lt;N&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-7" class="outline-5">
<h5 id="sec-3-0-7">Graph matching principle<a id="gmatching" name="gmatching"></a></h5>
<div class="outline-text-5" id="text-3-0-7">
<p>
The formula claims a graph <code>&lt;G&gt;</code> in input has a perfect matching
</p>

<pre class="example">
cnfgen gmatching -i &lt;G&gt;
</pre>

<p>
The matching formula  is equivalent to the  graph matching formula
over a complete graph
</p>

<pre class="example">
cnfgen gmatching --complete 10
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-8" class="outline-5">
<h5 id="sec-3-0-8">Counting principle<a id="count" name="count"></a></h5>
<div class="outline-text-5" id="text-3-0-8">
<p>
A  formula  that  claims  that  a  set  of  <code>&lt;M&gt;</code>  elements  can  be
partitioned into sets of size <code>&lt;p&gt;</code>.
</p>

<pre class="example">
cnfgen count &lt;M&gt; &lt;p&gt;
</pre>

<p>
so that 
</p>

<pre class="example">
cnfgen count 10 4
</pre>

<p>
gives an unsatisfiable formula while
</p>

<pre class="example">
cnfgen count 9 3 
</pre>

<p>
gives a satisfiable one.
</p>
</div>
</div>

<div id="outline-container-sec-3-0-9" class="outline-5">
<h5 id="sec-3-0-9">Pebbling formula<a id="peb" name="peb"></a></h5>
<div class="outline-text-5" id="text-3-0-9">
<p>
We can  generate a pebbling  formula for a directed  acyclic graph
<code>&lt;D&gt;</code> in input using 
</p>

<pre class="example">
cnfgen peb -i &lt;D&gt;
</pre>

<p>
and,  for  example,  we  can generate  the  pebbling  formula  for
a rooted binary tree of height 10 with
</p>

<pre class="example">
cnfgen peb --tree 10
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-10" class="outline-5">
<h5 id="sec-3-0-10">Stones formulas<a id="stone" name="stone"></a></h5>
<div class="outline-text-5" id="text-3-0-10">
<p>
A variant of  the pebbling formula. To generate  the stone formula
for a directed acyclic graph <code>&lt;D&gt;</code>  in input and with a collection
of <code>&lt;s&gt;</code> stones use
</p>

<pre class="example">
cnfgen stone -i &lt;D&gt; &lt;s&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-11" class="outline-5">
<h5 id="sec-3-0-11">Graph isomorphism formula<a id="giso" name="giso"></a></h5>
<div class="outline-text-5" id="text-3-0-11">
<p>
Produce  a  CNF  that  claims  two graphs  <code>&lt;G1&gt;</code>  and  <code>&lt;G2&gt;</code>  to
be isomorphic.
</p>

<pre class="example">
cnfgen giso -1 &lt;G1&gt; -2 &lt;G2&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-12" class="outline-5">
<h5 id="sec-3-0-12">Graph automorphism formula<a id="gauto" name="gauto"></a></h5>
<div class="outline-text-5" id="text-3-0-12">
<p>
Produce a CNF that claims that a graph <code>&lt;G&gt;</code> has no nontrivial automorphism.
</p>

<pre class="example">
cnfgen gauto -i &lt;G&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-13" class="outline-5">
<h5 id="sec-3-0-13">Ramsey number formula<a id="ram" name="ram"></a></h5>
<div class="outline-text-5" id="text-3-0-13">
<p>
The command line
</p>

<pre class="example">
cnfgen ram &lt;s&gt; &lt;k&gt; &lt;N&gt;
</pre>

<p>
produces a  formula that claims  that the Ramsey number  r(s,k) is
larger than N.
</p>
</div>
</div>

<div id="outline-container-sec-3-0-14" class="outline-5">
<h5 id="sec-3-0-14">Ramsey counterexample<a id="ramlb" name="ramlb"></a></h5>
<div class="outline-text-5" id="text-3-0-14">
<p>
The formula  claims that  the graph  <code>&lt;G&gt;</code> given  in input  is not
a counter example for the Ramsey number \(r(k,s)\). Namely it claims
that the graph  has either a clique of size  <code>&lt;k&gt;</code> or an independent
set of size <code>&lt;s&gt;</code>.
</p>

<pre class="example">
cnfgen ramlb &lt;k&gt; &lt;s&gt; -i &lt;G&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-15" class="outline-5">
<h5 id="sec-3-0-15">K-clique formula<a id="kclique" name="kclique"></a></h5>
<div class="outline-text-5" id="text-3-0-15">
<p>
The formula  claims that there is no clique of
size at least &lt;k&gt; in the input graph <code>&lt;G&gt;</code>. 
</p>

<pre class="example">
cnfgen kclique &lt;k&gt; -i &lt;G&gt;
</pre>

<p>
It is  possible to  plant a  clique in the  graph with  the option
<code>--plantclique</code>. The formula generated by
</p>

<pre class="example">
cnfgen kclique 10 --gnp 200 0.5 --plantclique 15
</pre>

<p>
claims that  there is a clique  of size 10 in  a random Erdös-Renyi
graph with 200 vertices where a clique of size 15 has been planted.
</p>
</div>
</div>

<div id="outline-container-sec-3-0-16" class="outline-5">
<h5 id="sec-3-0-16">K-coloring formula<a id="kcolor" name="kcolor"></a></h5>
<div class="outline-text-5" id="text-3-0-16">
<p>
The formula asserts  that the input graph <code>&lt;G&gt;</code>  is colorable with
&lt;k&gt; colors.
</p>

<pre class="example">
cnfgen kcolor &lt;k&gt; -i &lt;G&gt;
</pre>

<p>
For example a formula generated as 
</p>

<pre class="example">
cnfgen kcolor --gnd 100 2 --plantclique 4 
</pre>

<p>
is clearly unsatisfiable.
</p>
</div>
</div>

<div id="outline-container-sec-3-0-17" class="outline-5">
<h5 id="sec-3-0-17">Random K-CNF<a id="randkcnf" name="randkcnf"></a></h5>
<div class="outline-text-5" id="text-3-0-17">
<p>
Sample  a random  CNF with  <code>&lt;m&gt;</code> clauses  of <code>&lt;k&gt;</code>  literals over
<code>&lt;n&gt;</code> variables. Clauses are sampled without replacement.
</p>

<p>
<b>Warning</b>  the sampling  could  take infinite  time  if the  ratio
between remaining clauses and clauses to sample is too small.
</p>

<pre class="example">
cnfgen kcnf &lt;k&gt; &lt;n&gt; &lt;m&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-18" class="outline-5">
<h5 id="sec-3-0-18">Single conjunction<a id="and" name="and"></a></h5>
<div class="outline-text-5" id="text-3-0-18">
<p>
Produce  a  CNF   made  by  unit  clauses,   <code>&lt;p&gt;</code>  positives  and
<code>&lt;n&gt;</code> negatives.
</p>

<pre class="example">
cnfgen and &lt;p&gt; &lt;n&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-0-19" class="outline-5">
<h5 id="sec-3-0-19">Single disjunction<a id="or" name="or"></a></h5>
<div class="outline-text-5" id="text-3-0-19">
<p>
Produce  a  CNF   made  by a single clause, with <code>&lt;p&gt;</code> positives literals and
<code>&lt;n&gt;</code> negatives ones.
</p>

<pre class="example">
cnfgen or &lt;p&gt; &lt;n&gt;
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-4" class="outline-3">
<h3 id="sec-4">The CNFgen command line<a id="commandline" name="commandline"></a></h3>
<div class="outline-text-3" id="text-4">
<p>
The command line for producing a DIMACS file is
</p>

<pre class="example">
cnfgen [-o &lt;output_file&gt;] &lt;formula_type&gt; &lt;formula_parameters&gt;
</pre>

<p>
where each  choice of  <code>&lt;formula_type&gt;</code> has  its own  parameters and
options.  For  example here's  how  to  get a  pigeonhole  principle
formula from 10 pigeons to 7 holes printed to standard output:
</p>

<pre class="example">
cnfgen php 10 7 
</pre>

<p>
We  implement   several  families  of  formula   in  <code>cnfgen</code>  tool.
For  a  full  list  of implemented  formula  families  type  <code>cnfgen
  --help</code>. To get specific information on one family use
</p>

<pre class="example">
cnfgen &lt;formula_type&gt; --help
</pre>

<p>
Some formulas require input graph(s), and the <code>cnfgen</code> tool supports
several <a href="graphformats.html">graph  file formats</a>. More importantly  <code>cnfgen</code> can generate
(and  save on  a  side) the  graph itself.  Here's  how to  generate
a formula encoding the Graph  ordering principle on a random regular
graph with 10 vertices and degree 3.
</p>

<pre class="example">
cnfgen gop --gnd 10 3
</pre>

<p>
Or the formula claiming the 3-colorability formula of a 15 by 15 grid graph. 
</p>

<pre class="example">
cnfgen kcolor 3 --grid 15 15
</pre>

<p>
In the  next example we generate  the formula that claims  the graph
isomorphism between (1) the bidimensional  torus of 3x1 and (2) the complete
graph over three vertices. This formula is clearly satisfiable.
</p>

<pre class="example">
cnfgen giso --torus1 3 1 --complete2 3
</pre>
</div>
</div>

<div id="outline-container-sec-5" class="outline-3">
<h3 id="sec-5">Acknowledgments</h3>
<div class="outline-text-3" id="text-5">
<p>
The CNFgen project is  by Massimo Lauria (<a href="mailto:lauria.massimo@gmail.com">lauria.massimo@gmail.com</a>),
with helps and contributions by Marc Vinyals, Mladen Mikša and <a href="http://www.csc.kth.se/~jakobn/">Jakob
Nordström</a>  from  KTH Royal  Institute  of  Technology in  Stockholm,
Sweden. The work on this software has been funded 
</p>

<ul class="org-ul">
<li>[2012-2015] The  European Research Council under  the European Union's
Seventh  Framework Programme  (FP7/2007&#x2013;2013)  ERC grant  agreement
no. 279611.
</li>

<li>[Currently] The European Research Council (ERC) under the European
Union's Horizon 2020 research and innovation programme (grant
agreement ERC-2014-CoG 648276 AUTAR)
</li>
</ul>


</section></div>
<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
  <footer class="inner">
    <p class="copyright">CNFgen maintained by <a href="https://github.com/MassimoLauria">MassimoLauria</a></p>
    <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
  </footer>
</div>
</div>
</div>
</div>
</body>
</html>
